!function(i){var a={cache:function(){a.els={date_picker:i("#jckwds-delivery-date"),date_ymd:i("#jckwds-delivery-date-ymd"),timeslot_select:i("#jckwds-delivery-time"),date_changed:i("#jckwds-date-changed")},a.vars={}},on_load:function(){a.cache(),a.setup_date_picker(),a.watch_for_change(),a.watch_for_submit()},setup_date_picker:function(){a.els.date_picker.length<=0||a.els.date_picker.datepicker({minDate:iconic_wds_vars.bookable_dates[0],maxDate:iconic_wds_vars.bookable_dates[iconic_wds_vars.bookable_dates.length-1],beforeShowDay:function(e){var t=i.datepicker.formatDate(iconic_wds_vars.settings.datesettings_datesettings_dateformat,e);return-1!==i.inArray(t,iconic_wds_vars.bookable_dates)?[!0,"","Available"]:[!1,"","unAvailable"]},dateFormat:iconic_wds_vars.settings.datesettings_datesettings_dateformat,onSelect:function(e,t){var s;i(this).trigger("change"),""!==this.value&&(s=[a.pad_left(t.selectedYear,4),a.pad_left(t.selectedMonth+1,2),a.pad_left(t.selectedDay,2)].join(""),a.els.date_ymd.val(s),iconic_wds_vars.settings.timesettings_timesettings_setup_enable&&a.update_timeslot_options(s))},monthNames:iconic_wds_vars.strings.months,monthNamesShort:iconic_wds_vars.strings.months_short,dayNames:iconic_wds_vars.strings.days,dayNamesMin:iconic_wds_vars.strings.days_short})},update_timeslot_options:function(e,t){var s=a.els.timeslot_select.find("option:eq(0)");a.els.timeslot_select.find("option:gt(0)").remove(),s.text(iconic_wds_vars.strings.loading);var n={action:"iconic_wds_get_slots_on_date",nonce:iconic_wds_vars.ajax_nonce,date:e};i.post(iconic_wds_vars.ajax_url+"?post="+iconic_wds_vars.order_id,n,function(e){!0===e.success?(s.text(iconic_wds_vars.strings.selectslot),a.els.timeslot_select.append(e.html)):s.text(iconic_wds_vars.strings.noslots),void 0!==t&&t(e)})},pad_left:function(e,t,s){return new Array(t-String(e).length+1).join(s||"0")+e},watch_for_change:function(){a.els.date_picker.add(a.els.date_ymd).add(a.els.timeslot_select).on("change",function(){a.els.date_changed.val(1)})},watch_for_submit:function(){a.els.timeslot_select.length<=0||i("form#post").submit(function(e){var t=parseInt(a.els.date_changed.val()),s=a.els.timeslot_select.val();1===parseInt(iconic_wds_vars.settings.timesettings_timesettings_setup_mandatory)&&t&&s.length<=0&&(alert(iconic_wds_vars.strings.selectslot),e.preventDefault())})}};i(window).load(a.on_load)}(jQuery,document),function(s,e){var n={on_ready:function(){n.setup_checkbox_lists(),n.watch_checkbox_lists()},setup_checkbox_lists:function(){var e=s(".wpsf-list--checkboxes");e.length<=0||e.each(function(e,t){n.toggle_checkbox_lists(s(t).find('input[value="any"]'))})},watch_checkbox_lists:function(){s(e.body).on("change",'.wpsf-list--checkboxes input[value="any"]',function(){n.toggle_checkbox_lists(s(this))})},toggle_checkbox_lists:function(e){var t,s,n;e.length<=0||(t=e.closest(".wpsf-list--checkboxes"),s=e.prop("checked"),t.length<=0||(s?(n=e.closest("li"),t.find("li").not(n).hide()):t.find("li").show()))}};s(e).on("ready",n.on_ready)}(jQuery,document);